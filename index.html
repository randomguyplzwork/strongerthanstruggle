<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paths to Possibility â€“ Stronger Than Struggle</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bc-cedar: #005c69;
      --bc-orange: #ff6f61;
      --bc-green: #22c55e;
      --bc-red: #ef4444;
      --bc-blue: #3b82f6;
      --bc-sky-50: #f0f9ff;
      --bc-sky-100: #e0f2fe;
      --bc-grey-700: #374151;
      --bc-grey-900: #111827;
    }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, var(--bc-sky-50) 0%, #ffffff 100%);
      letter-spacing: -0.01em;
      line-height: 1.5;
    }
    h1, h2, h3, h4, h5, h6 {
      font-family: 'Playfair Display', serif;
      letter-spacing: -0.02em;
      line-height: 1.2;
    }
    .glass {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.4);
    }
    .btn-primary {
      @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-bc-cedar text-white font-semibold hover:bg-bc-cedar/90 transition-all duration-200 shadow hover:shadow-lg;
    }
    .btn-secondary {
      @apply inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-bc-orange text-white font-semibold hover:bg-bc-orange/90 transition-all duration-200 shadow hover:shadow-lg;
    }
    .nav-link {
      @apply relative text-bc-grey-700 hover:text-bc-cedar font-medium after:absolute after:left-0 after:bottom-[-4px] after:w-0 after:h-0.5 after:bg-bc-cedar after:transition-all after:duration-300 hover:after:w-full;
    }
    .stat-bar {
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      height: 8px;
    }
    .stat-fill {
      height: 100%;
      border-radius: 999px;
      transition: width 0.5s cubic-bezier(.4, .0, .2, 1);
    }
    .choice-btn {
      transition: all 0.2s cubic-bezier(.4, .0, .2, 1);
      border: 2px solid transparent;
    }
    .choice-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      border-color: var(--bc-cedar);
    }
    #fullscreen-game {
      position: fixed;
      inset: 0;
      z-index: 50;
      background: #0f172a;
      display: none;
      flex-direction: column;
    }
    #fullscreen-game.active {
      display: flex;
    }
    #fullscreen-game .controls {
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      gap: 8px;
      background: rgba(0, 0, 0, 0.45);
      backdrop-filter: blur(4px);
      padding: 8px;
      border-radius: 12px;
    }
    #fullscreen-game .controls button {
      background: none;
      border: none;
      color: #fff;
      cursor: pointer;
      transition: opacity 0.2s;
    }
    #fullscreen-game .controls button:hover {
      opacity: 0.7;
    }
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body class="text-bc-grey-700">

<!-- ==========  NAV  ========== -->
<nav class="bg-white/80 backdrop-blur border-b border-white/30 sticky top-0 z-40">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
    <div class="font-bold text-xl text-bc-cedar">Paths to Possibility</div>
    <div class="flex gap-6">
      <a href="#home" class="nav-link">Home</a>
      <a href="#resources" class="nav-link">Resources</a>
      <a href="#game" class="nav-link">Play Stronger Than Struggle</a>
    </div>
  </div>
</nav>

<!-- ==========  HERO / HOME  ========== -->
<section id="home" class="py-20">
  <div class="max-w-4xl mx-auto px-4 text-center fade-in">
    <h1 class="text-5xl md:text-6xl font-extrabold text-bc-cedar tracking-tight">
      Stronger Than Struggle
    </h1>
    <p class="mt-4 text-lg text-bc-grey-700">
      An interactive campaign by and for <strong>BC youth</strong> experiencing homelessness and drug-toxicity.
      Every path starts with one choice.
    </p>
    <div class="mt-8 flex flex-wrap gap-4 justify-center">
      <a href="#resources" class="btn-primary">BC Youth Resources</a>
      <a href="#game" class="btn-secondary">Play the Story</a>
    </div>

    <!-- Data snapshot -->
    <div class="mt-12 glass rounded-3xl p-6 text-left">
      <h3 class="text-xl font-bold text-bc-cedar mb-2">BC Youth Reality Check</h3>
      <ul class="list-disc list-inside space-y-1 text-sm">
        <li>2024 BC Coroners: 84 % of toxic-drug deaths aged 10-29 involved fentanyl.</li>
        <li>Foundry BC reports 1 in 4 youth accessing centres experience unstable housing.</li>
        <li>Early supportive conversations reduce overdose risk by up to 50 % (BCCDC, 2023).</li>
      </ul>
    </div>
  </div>
</section>

<!-- ==========  RESOURCES  ========== -->
<section id="resources" class="py-20 bg-white">
  <div class="max-w-5xl mx-auto px-4">
    <h2 class="text-4xl font-bold text-bc-cedar mb-8 text-center">Resources for BC Youth</h2>

    <!-- Emergency -->
    <div class="mb-10 glass border-red-300 rounded-3xl p-6">
      <h3 class="text-xl font-bold text-red-700 mb-2">Crisis & Emergency</h3>
      <div class="flex flex-wrap gap-4 mt-4">
        <a href="tel:911" class="btn-secondary bg-red-600 hover:bg-red-700">Call 911</a>
        <a href="tel:988" class="btn-secondary bg-red-600 hover:bg-red-700">Suicide & Crisis Lifeline 988</a>
      </div>
    </div>

    <!-- Youth-specific -->
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="glass rounded-3xl p-6"><h4 class="font-bold text-bc-cedar mb-2">Foundry BC</h4><p class="text-sm mb-3">Free health & social services for youth 12-24.</p><a href="https://foundrybc.ca" target="_blank" class="btn-primary text-sm">foundrybc.ca</a></div>
      <div class="glass rounded-3xl p-6"><h4 class="font-bold text-bc-cedar mb-2">811 BC Nurse Line</h4><p class="text-sm mb-3">24-7 health advice, overdose prevention, naloxone.</p><a href="tel:811" class="btn-primary text-sm">Call 811</a></div>
      <div class="glass rounded-3xl p-6"><h4 class="font-bold text-bc-cedar mb-2">Crisis Text Line</h4><p class="text-sm mb-3">Text with a trained responder any time.</p><a href="sms:741741?body=HOME" class="btn-primary text-sm">Text HOME to 741741</a></div>
    </div>

    <!-- Housing -->
    <div class="mt-10 glass rounded-3xl p-6">
      <h3 class="text-xl font-bold text-bc-cedar mb-4">Housing & Shelter (BC)</h3>
      <ul class="list-disc list-inside space-y-2 text-sm">
        <li><strong>Foundry Housing</strong> â€“ transitional units in multiple BC cities.</li>
        <li><strong>BC Housing â€“ Youth Outreach</strong> call <a href="tel:211" class="underline">211</a> to locate nearest shelter bed.</li>
        <li><strong>Covenant House Vancouver / Victoria</strong> â€“ 24-hr crisis beds and long-term support.</li>
      </ul>
    </div>
  </div>
</section>

<!-- ==========  GAME â€“ STRONGER THAN STRUGGLE  ========== -->
<section id="game" class="py-20 bg-gradient-to-b from-bc-sky-50 to-white">
  <div class="max-w-5xl mx-auto px-4 text-center">
    <h2 class="text-4xl font-bold text-bc-cedar">Stronger Than Struggle</h2>
    <p class="mt-2 text-bc-grey-700">An interactive story about BC youth, homelessness and drug-toxicity.<br>Click the card to enter full-screen.</p>
  </div>

  <!-- Inline card (click to fullscreen) -->
  <div class="max-w-4xl mx-auto px-4 mt-8">
    <div id="game-card" class="game-card rounded-3xl p-6 md:p-8 cursor-pointer hover:scale-[1.01] transition-transform duration-300" onclick="enterFullscreen()">
      <div class="grid md:grid-cols-5 gap-6">
        <div class="md:col-span-2">
          <img id="game-img" class="w-full h-64 md:h-80 object-cover rounded-2xl shadow-lg" src="https://images.unsplash.com/photo-1522056616216-3c1c8c6c3b8a?auto=format&fit=crop&w=800&q=80" alt="Scene">
          <div id="game-caption" class="text-center font-bold text-bc-cedar mt-3"></div>
        </div>
        <div class="md:col-span-3 flex flex-col gap-4">
          <div id="game-story" class="glass rounded-2xl p-4 text-bc-grey-800 leading-relaxed"></div>
          <div class="glass rounded-2xl p-4 text-white text-sm">
            <div class="flex items-center gap-3"><span class="w-14">Hope</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="game-hope-bar" class="h-full bg-bc-green" style="width:60%"></div></div><span id="game-hope-val" class="w-7 text-right font-bold">10</span></div>
            <div class="flex items-center gap-3"><span class="w-14">Stress</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="game-stress-bar" class="h-full bg-bc-red" style="width:60%"></div></div><span id="game-stress-val" class="w-7 text-right font-bold">10</span></div>
            <div class="flex items-center gap-3"><span class="w-14">Motivation</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="game-motivation-bar" class="h-full bg-bc-blue" style="width:30%"></div></div><span id="game-motivation-val" class="w-7 text-right font-bold">5</span></div>
          </div>
          <div id="game-choices" class="grid gap-2"></div>
          <div id="game-end-message" class="text-center text-sm font-medium mt-2"></div>
          <div class="text-center text-xs text-bc-grey-500 mt-2">Tap anywhere to expand full-screen</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Full-screen overlay (only visible after click) -->
  <div id="fullscreen-game" class="fixed inset-0 z-50 bg-[#0f172a] hidden flex-col">
    <div class="controls">
      <button onclick="exitFullscreen()" title="Exit full screen">âœ•</button>
      <button onclick="toggleMute()" title="Mute/unmute sounds">ðŸ”Š</button>
    </div>
    <div class="flex-1 grid md:grid-cols-2 gap-6 p-6 md:p-10">
      <div class="flex flex-col gap-4">
        <img id="fullscreen-img" class="w-full h-80 object-cover rounded-2xl shadow-xl" src="" alt="Scene">
        <div id="fullscreen-caption" class="text-center font-bold text-white"></div>
      </div>
      <div class="flex flex-col gap-4">
        <div id="fullscreen-story" class="bg-white/10 backdrop-blur rounded-2xl p-5 text-white leading-relaxed"></div>
        <div class="bg-white/10 backdrop-blur rounded-2xl p-4 text-white text-sm">
          <div class="flex items-center gap-3"><span class="w-16">Hope</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="fullscreen-hope-bar" class="h-full bg-bc-green"></div></div><span id="fullscreen-hope-val" class="w-8 text-right font-bold">0</span></div>
          <div class="flex items-center gap-3"><span class="w-16">Stress</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="fullscreen-stress-bar" class="h-full bg-bc-red"></div></div><span id="fullscreen-stress-val" class="w-8 text-right font-bold">0</span></div>
          <div class="flex items-center gap-3"><span class="w-16">Motivation</span><div class="flex-1 h-2 bg-white/20 rounded-full"><div id="fullscreen-motivation-bar" class="h-full bg-bc-blue"></div></div><span id="fullscreen-motivation-val" class="w-8 text-right font-bold">0</span></div>
        </div>
        <div id="fullscreen-choices" class="grid gap-3"></div>
        <div id="fullscreen-end-message" class="text-center text-sm text-white/80 mt-2"></div>
      </div>
    </div>
  </div>
</section>

<!-- ==========  FOOTER  ========== -->
<footer class="bg-bc-grey-900 text-white py-10">
  <div class="max-w-4xl mx-auto px-4 text-center text-sm">
    <p>Â© 2024 Paths to Possibility â€“ Stronger Than Struggle. Educational use only.</p>
    <p class="mt-2">If you or someone you know is in crisis, call 911 or 988 (Suicide & Crisis Lifeline).</p>
  </div>
</footer>

<script>
  // ----------  GAME STATE  ----------
  let state = { hope: 10, stress: 10, motivation: 5, scene: 0 };
  const overdoseSceneIndex = 15;
  const recoverySceneIndex = 16;
  const minHope = -5, maxHope = 20, minStress = -5, maxStress = 20, minMotivation = 0, maxMotivation = 20;

  // ----------  SCENES  (BC-specific) ----------
  const scenes = [
    {character:"1522056616216-3c1c8c6c3b8a", name:"Your Friend (Victoria)", text:"A 19-year-old on Vancouver Island, couch-surfing since foster-care ended. Tonight theyâ€™re scrolling social media, feeling completely alone."},
    {character:"1506905925346-21bda4d32df4", name:"Your Friend", text:"They start to open up: 'Iâ€™ve been using downers to sleep. I donâ€™t want to dieâ€”I just want the noise to stop.'"},
    {character:"1523240795612-9a054b0db644", name:"Foundry BC Drop-In", text:"You walk them to the local Foundry youth hub. Staff greet them by first nameâ€”no ID, no questions asked."},
    {character:"1598257006458-087169a1f08d", name:"Peer Worker", text:"A peer worker whoâ€™s lived experience says, â€œI was exactly where you are. You matter, and thereâ€™s a path.â€"},
    {character:"1573496359142-b8d87734a5a2", name:"Counsellor", text:"Inside Foundry, a counsellor offers same-day mental-health and substance-use supportâ€”free for any BC youth 12-24."},
    {character:"1515324802427-56e0b1e4e4c1", name:"You", text:"Later you text the Foundry BC app (1-800-383-8331) to book them a follow-up while theyâ€™re still motivated."},
    {character:"1524504388940-b1c1722653e1", name:"Your Friend", text:"For the first time in months they laughâ€”genuinely. The worker gave them a take-home naloxone kit and showed how to use it."},
    {character:"1523240795612-9a054b0db644", name:"Youth Group", text:"At Foundryâ€™s weekly youth circle, everyone shares one small win. Your friend says, 'I slept 5 hours without usingâ€”tiny, but huge for me.'"},
    {character:"1522056616216-3c1c8c6c3b8a", name:"Your Friend", text:"A rough day: their backpack with ID and phone was stolen. Old panic creeps in."},
    {character:"1507003211169-0a1dd7228f2d", name:"Your Friend", text:"They text you: 'Foundry replaced my ID, gave me a bus pass, and a safe-place to charge my phone. I didnâ€™t know places like this existed.'"},
    {character:"1517486808906-b6c8b5d4d0eb", name:"New Friends", text:"They start showing up early to help set up chairs. Peer workers ask them to co-facilitate next weekâ€”paid honorarium."},
    {character:"1524504388940-b1c1722653e1", name:"Your Friend", text:"Paycheque in hand, they buy groceries for the first time in a year. 'I forgot what fresh fruit tastes like.'"},
    {character:"1506905925346-21bda4d32df4", name:"Your Friend", text:"Life throws curve-balls: their ex-roommate texts, threatening to kick them out of the couch again."},
    {character:"1523240795612-9a054b0db644", name:"Circle Check-In", text:"Stress spikes; old cravings return. The group does a 5-4-3-2-1 grounding exercise together."},
    {character:"1507003211169-0a1dd7228f2d", name:"Recovery", text:"They choose to stay, breathe, and use the 24-hour Foundry chat instead of using alone. Hope re-ignites."},
    {character:"1587854692152-cbe660dbde88", name:"Critical Moment", text:"They find a blue pill stamped 'M30'â€”cheap, but likely fentanyl. This is an emergency."},
    {character:"1516574187841-cb9cc2ca948b", name:"Hospital", text:"Paramedics reverse the overdose with naloxone. Your friend sleeps in a safe bedâ€”alive because you called 911."},
    {character:"1450101499163-c8848c66ca85", name:"Emergency Response", text:"BC Emergency Health Services arrive in 6 minutes. You did the right thingâ€”no youth is turned away, no questions asked."}
  ];

  // ----------  FULLSCREEN  ----------
  function enterFullscreen(){
    document.getElementById('fullscreen-game').classList.add('active');
    document.getElementById('game-card').classList.add('hidden');
    render();
  }
  function exitFullscreen(){
    document.getElementById('fullscreen-game').classList.remove('active');
    document.getElementById('game-card').classList.remove('hidden');
  }
  function toggleMute(){ /* placeholder */ }

  // ----------  RENDER  ----------
  function render(prevState){
    const scene=scenes[state.scene>=scenes.length?scenes.length-1:state.scene];
    const imgUrl='https://images.unsplash.com/photo-'+scene.character+'?auto=format&fit=crop&w=800&q=80';
    ['game','fullscreen'].forEach(mode=>{
      document.getElementById(mode+'-img').src=imgUrl;
      document.getElementById(mode+'-caption').textContent=scene.name;
      document.getElementById(mode+'-story').textContent=scene.text;
    });

    // stats
    ['hope','stress','motivation'].forEach(stat=>{
      const val=state[stat];
      const min={hope:-5,stress:-5,motivation:0}[stat];
      const max={hope:20,stress:20,motivation:20}[stat];
      const pct=Math.max(0,Math.min(100,(val-min)/(max-min)*100));
      ['game','fullscreen'].forEach(m=>{
        document.getElementById(m+'-'+stat+'-bar').style.width=pct+'%';
        document.getElementById(m+'-'+stat+'-val').textContent=val;
      });
    });

    // choices
    ['game','fullscreen'].forEach(m=>{
      document.getElementById(m+'-choices').innerHTML='';
      document.getElementById(m+'-end-message').textContent='';
    });
    if(state.scene===15){ // overdose
      ['game','fullscreen'].forEach(m=>{
        document.getElementById(m+'-end-message').textContent="Overdose reversedâ€”your friend is alive. In real life, call 911 and use naloxone. Foundry and 811 are next steps.";
        const again=document.createElement('button'); again.className='choice-btn'; again.textContent='Play Again';
        again.onclick=()=>{ state={hope:10,stress:10,motivation:5,scene:0}; render(); };
        document.getElementById(m+'-choices').appendChild(again);
      }); return;
    }
    if(state.scene===16){ // recovery
      ['game','fullscreen'].forEach(m=> document.getElementById(m+'-end-message').textContent="Recovery isnâ€™t linearâ€”support and small steps create possibility.");
      return;
    }
    const choices=getRandomChoices(state.scene);
    choices.forEach(ch=>{
      const btnG=document.createElement('button'); btnG.className='choice-btn'; btnG.textContent=ch.text;
      const btnF=btnG.cloneNode(true);
      [btnG,btnF].forEach(btn=>btn.onclick=()=>{ document.querySelectorAll('.choice-btn').forEach(b=>b.disabled=true); makeChoice(ch); });
      document.getElementById('game-choices').appendChild(btnG);
      document.getElementById('fullscreen-choices').appendChild(btnF);
    });
  }

  function makeChoice(choice){
    const prev={...state};
    state.hope+=choice.hope; state.stress+=choice.stress; state.motivation+=choice.motivation;
    state.hope=Math.max(-5,Math.min(20,state.hope));
    state.stress=Math.max(-5,Math.min(20,state.stress));
    state.motivation=Math.max(0,Math.min(20,state.motivation));
    if(state.stress>=20||state.hope<=-5) state.scene=15; else state.scene++;
    render(prev);
  }

  function getRandomChoices(sceneIdx){
    const choices=[
      {text:"Sit beside them quietly and let them know youâ€™re staying.",hope:2,stress:-1,motivation:1},
      {text:"Ask gently how theyâ€™re feeling right now.",hope:1,stress:0,motivation:1},
      {text:"Suggest walking to the nearby Foundry youth hub together.",hope:3,stress:-2,motivation:2},
      {text:"Remind them of a time they handled something difficult.",hope:2,stress:-1,motivation:1},
      {text:"Tell them setbacks are normal in recovery.",hope:2,stress:-1,motivation:0},
      {text:"Dismiss their feelings and say theyâ€™re overreacting.",hope:-3,stress:3,motivation:-2},
      {text:"Tell them itâ€™s hopeless and nothing will change.",hope:-3,stress:3,motivation:-3}
    ];
    for(let i=choices.length-1;i>0;i--){
      const j=Math.floor(Math.random()*(i+1));
      [choices[i],choices[j]]=[choices[j],choices[i]];
    }
    return choices.slice(0,3);
  }

  // kick-off
  render();
</script>
</body>
</html>